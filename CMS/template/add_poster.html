{% extends 'base.html' %}

{% block title %}Edit poster{% endblock %}

{% block body %}
    <div style="width: 80%">
        <form method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label>Title</label>
                <input id="title" type="text" class="form-control" name="title" value="{{ poster.title }}">
            </div>
            <div class="form-group">
                <label>abstract</label>
                <textarea id="summary" class="form-control" name="summary">{{ poster.summary }}</textarea>
            </div>
            <div class="form-group">
                <label>upload</label>
                <input type="file" class="form-control-file" name="image">
            </div>
            <button type="submit" class="btn btn-primary">submit</button>
            <a class="btn btn-warning" style="margin-left: 20px" onclick="random_string()">random</a>
        </form>
    </div>
{% endblock %}

{% block extends_script %}
    <script>
        function random_string() {
            const title = $('#title')
            const summary = $('#summary')
            $.ajax({
                type: "GET",
                url: "/users/random_poster/",
                success: function (data) {
                    title.val(data.title)
                    summary.val(data.summary)
                }
            })
        }
    </script>
{% endblock %}
